(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{117:function(e,t,n){e.exports={loading:"Loading_loading__2xAve"}},119:function(e,t,n){e.exports={card:"MovieCard_card__MkDsz"}},125:function(e,t,n){e.exports=n(261)},214:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),c=n.n(o),i=n(18),l=n(27),u=n(113),s=n(9),m="LIST_REFRESH",d="LIST_LOAD",E="LIST_LOAD_OK",p="LIST_LOAD_KO",f="DETAIL_REFRESH",v="DETAIL_LOAD",O="DETAIL_LOAD_OK",y="DETAIL_LOAD_KO",h={configuration:null,loading:!1,error:!1},g=n(21);var b={query:"",results:null,loading:!1,error:!1},_=Object(l.c)({common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONFIGURATION_LOAD":return Object(s.a)({},e,{error:!1,loading:!0});case"CONFIGURATION_LOAD_OK":return Object(s.a)({},e,{error:!1,loading:!1,configuration:t.payload});case"CONFIGURATION_LOAD_KO":return Object(s.a)({},e,{error:!0,loading:!1});default:return e}},listsByType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:case d:case E:case p:return Object(s.a)({},e,Object(g.a)({},t.listType,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:!1,refresh:!1,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return Object(s.a)({},e,{refresh:!0});case d:return Object(s.a)({},e,{refresh:!1,loading:!0,error:!1});case E:return Object(s.a)({},e,{loading:!1,items:t.payload});case p:return Object(s.a)({},e,{error:!0,loading:!1});default:return e}}(e[t.listType],t)));default:return e}},detailsByKey:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:case v:case O:case y:return Object(s.a)({},e,Object(g.a)({},t.detailKey,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!1,error:!1,refresh:!1,item:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(s.a)({},e,{refresh:!0});case v:return Object(s.a)({},e,{refresh:!1,loading:!0,error:!1});case O:return Object(s.a)({},e,{loading:!1,item:t.payload});case y:return Object(s.a)({},e,{error:!0,loading:!1});default:return e}}(e[t.detailKey],t)));default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_LOAD":return Object(s.a)({},e,{error:!1,loading:!0,query:t.payload});case"SEARCH_LOAD_OK":return Object(s.a)({},e,{error:!1,loading:!1,results:t.payload});case"SEARCH_LOAD_KO":return Object(s.a)({},e,{error:!0,loading:!1});default:return e}}}),T=[u.a],A=function(e){return Object(l.d)(_,e,l.a.apply(void 0,T))},R=(n(134),n(32)),I=n(33),P=n(38),j=n(34),S=n(39),w=n(36),N=n(28),L=n(75),C=n(35),D=n.n(C),k=n(114),M=n.n(k),V={_ok:"ok",environment:"dev"},U=new Proxy(V,{get:function(e,t){if(t){var n="REACT_APP_"+t.toUpperCase();return n in Object({NODE_ENV:"production",PUBLIC_URL:"/react-tmdb-player",REACT_APP_ENVIRONMENT:"prod",REACT_APP_VERSION:"0.1.0",REACT_APP_NAME:"react-tmdb-player",REACT_APP_TMDB_APIKEY:"59119c7983369d25d53cc6784b25d14c"})?Object({NODE_ENV:"production",PUBLIC_URL:"/react-tmdb-player",REACT_APP_ENVIRONMENT:"prod",REACT_APP_VERSION:"0.1.0",REACT_APP_NAME:"react-tmdb-player",REACT_APP_TMDB_APIKEY:"59119c7983369d25d53cc6784b25d14c"})[n]:t in V?V[t]:void 0}}}),K=U.TMDB_APIKEY,B=function(e){e.query({api_key:K})},H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return M.a.get("".concat("https://api.themoviedb.org/3").concat(e)).query(t).use(B)},x={popular:function(){return H("/movie/popular")},discoverByGenre:function(e){return H("/discover/movie",{with_genres:e})},details:function(e){return H("/movie/".concat(e))}},F={popular:function(){return H("/tv/popular")},discoverByGenre:function(e){return H("/discover/tv",{with_genres:e})},details:function(e){return H("/tv/".concat(e))}},G={byTypeOptions:function(e,t){switch(e){case z.POPULAR_MOVIES:return x.popular();case z.POPULAR_SERIES:return F.popular();case z.MOVIES_GENRE:return x.discoverByGenre(t.genre);case z.SERIES_GENRE:return F.discoverByGenre(t.genre);default:throw new Error("unknown list type: ".concat(e))}}},q={byType:function(e,t){switch(e){case J.MOVIE:return x.details(t);case J.TV:return F.details(t);default:throw new Error("unknown item type: ".concat(e))}}},z={POPULAR_MOVIES:"POPULAR_MOVIES",POPULAR_SERIES:"POPULAR_SERIES",MOVIES_GENRE:"MOVIES_GENRE",SERIES_GENRE:"SERIES_GENRE"},W=10751,Y=99,J={MOVIE:"MOVIE",TV:"TV"},Q=function(e){return{id:e.id,title:e.title,poster_path:e.poster_path,itemType:J.MOVIE}},X=function(e){return{id:e.id,title:e.name,poster_path:e.poster_path,itemType:J.TV}},Z="w154",$="w500",ee=function(e,t,n){var a=D()(n,"images.base_url","");return"".concat(a).concat(t).concat(e)},te=function(e){return e.results},ne=function(e){return e.results.reduce(function(e,t){switch(t.media_type){case"movie":return[].concat(Object(L.a)(e),[Q(t)]);case"tv":return[].concat(Object(L.a)(e),[X(t)]);default:return e}},[])},ae={Common:{configuration:function(){return H("/configuration")}},Movies:x,Series:F,Lists:G,Details:q,Search:{multi:function(e){return H("/search/multi",{query:e})}}},re={HOME:"/",DETAILMOVIE:"/movie/:id",DETAILTV:"/tv/:id",SEARCH:"/search/",SEARCHKEYWORD:"/search/:keyword"},oe=re,ce=n(23),ie=n.n(ce),le=n(13),ue=n.n(le),se=n(15),me=n.n(se),de=n(48),Ee=n.n(de),pe=n(72),fe=n.n(pe),ve=function(e){return r.a.createElement(Ee.a,{bg:"light",expand:"sm"},r.a.createElement(Ee.a.Brand,{as:w.b,to:oe.HOME},"Home"),r.a.createElement(Ee.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(Ee.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(fe.a,{className:"ml-auto"},r.a.createElement(fe.a.Link,{as:w.b,to:oe.SEARCH},"Search"))))},Oe=function(e){var t=e.children,n=e.containerClassName,a=e.rowClassName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ve,null),r.a.createElement(ie.a,{className:n},r.a.createElement(ue.a,{className:a},r.a.createElement(me.a,null,t))))};Oe.defaultProps={containerClassName:"",rowClassName:""};var ye=Oe,he=n(8),ge=n.n(he),be=n(73),_e=n.n(be),Te=function(){return{type:"CONFIGURATION_LOAD"}},Ae=function(e){return{type:"CONFIGURATION_LOAD_OK",payload:e}},Re=function(){return{type:"CONFIGURATION_LOAD_KO"}};function Ie(){return function(e,t){if(!(n=t()).configuration||!n.loading)return e(function(e){return e(Te()),ae.Common.configuration().then(function(t){var n=t.body;e(Ae(n))},function(t){e(Re())})});var n}}var Pe=function(e,t){return{type:d,listType:we(e,t)}},je=function(e,t,n){return{type:E,listType:we(e,t),payload:n}},Se=function(e,t){return{type:p,listType:we(e,t)}},we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(t).sort().map(function(e){return"".concat(e,"_").concat(t[e])}).join("_");return _e()("".concat(e,"_").concat(n))};function Ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,a){if(function(e,t,n){var a=we(t,n),r=e.listsByType[a];return!r||!!r.refresh||!!r.error}(a(),e,t))return n(function(e,t){return function(n){return n(Pe(e,t)),ae.Lists.byTypeOptions(e,t).then(function(a){var r=te(a.body);n(je(e,t,r))},function(a){n(Se(e,t))})}}(e,t))}}var Le=function(e,t){return _e()("".concat(e,"_").concat(t))},Ce=function(e){return{type:v,detailKey:e}},De=function(e,t){return{type:O,detailKey:e,payload:t}},ke=function(e){return{type:y,detailKey:e}};function Me(e,t){return function(n,a){if(function(e,t,n){var a=Le(t,n),r=e.detailsByKey[a];return!r||!!r.refresh||!!r.error}(a(),e,t))return n(function(e,t){var n=Le(e,t);return function(a){return a(Ce(n)),ae.Details.byType(e,t).then(function(e){var t=e.body;a(De(n,t))},function(e){a(ke(n))})}}(e,t))}}var Ve=function(e){return{type:"SEARCH_LOAD",payload:e}},Ue=function(e){return{type:"SEARCH_LOAD_OK",payload:e}},Ke=function(){return{type:"SEARCH_LOAD_KO"}};var Be=n(24),He=n(117),xe=n.n(He),Fe=function(e){var t=e.mx,n=e.color,a={borderColor:"".concat(n," transparent transparent transparent")};return r.a.createElement("div",{className:xe.a.loading,style:{marginTop:t,marginBottom:t}},r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",{style:a}),r.a.createElement("div",{style:a}),r.a.createElement("div",{style:a}),r.a.createElement("div",{style:a})))};Fe.defaultProps={mx:"64px",color:"#ccc"};var Ge=Fe,qe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ge;return function(n){return function(a){return r.a.createElement(r.a.Fragment,null,e(a)&&r.a.createElement(t,null),r.a.createElement(n,a))}}},ze=n(118),We=n.n(ze),Ye=(n(212),function(e){var t=e.items;return r.a.createElement(We.a,{items:t,responsive:{0:{items:4},600:{items:6},1200:{items:8}},autoPlayInterval:2e3,autoPlayDirection:"rtl",fadeOutAnimation:!0,mouseDragEnabled:!0,dotsDisabled:!1,buttonsDisabled:!0})}),Je=n(49),Qe=n.n(Je),Xe=n(119),Ze=n.n(Xe),$e=function(e){var t=e.imageUrl,n=e.title,a=e.history,o=e.itemType,c=e.id;return r.a.createElement(Qe.a,{className:"bg-dark text-white ".concat(Ze.a.card),onClick:function(e){a.push(function(e,t){switch(t){case J.TV:return re.DETAILTV.replace(":id",e);case J.MOVIE:default:return re.DETAILMOVIE.replace(":id",e)}}(c,o))}},r.a.createElement(Qe.a.Img,{src:t,alt:n}),r.a.createElement(Qe.a.ImgOverlay,null,r.a.createElement(Qe.a.Title,null,n)))};$e.defaultProps={};var et=Object(N.e)($e),tt=function(e){var t=e.title,n=e.items,a=e.configurationTmdb,o=n.map(function(e){return r.a.createElement(et,Object.assign({imageUrl:ee(e.poster_path,Z,a)},e))});return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,t),r.a.createElement(Ye,{items:o}))},nt=function(e){function t(){return Object(R.a)(this,t),Object(P.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(I.a)(t,[{key:"componentWillMount",value:function(){this.props.onLoad()}},{key:"render",value:function(){return r.a.createElement(tt,this.props)}}]),t}(r.a.Component),at=Object(Be.a)(Object(i.b)(function(e,t){var n=t.listType,a=t.listOptions,r=we(n,a),o=e.listsByType[r]||{loading:!0,error:!1,items:[]},c=function(e){switch(e){case z.POPULAR_SERIES:case z.SERIES_GENRE:return X;default:return Q}}(n);return{error:o.error,loading:o.loading,items:o.items.map(c),configurationTmdb:e.common.configuration}},function(e,t){var n=t.listType,a=t.listOptions;return{onLoad:function(){return e(Ne(n,a))}}}),qe(function(e){return e.loading}))(nt);at.defaultProps={listOptions:{}},at.propTypes={title:ge.a.string.isRequired,listType:ge.a.oneOf(Object.keys(z)).isRequired,listOptions:ge.a.object};var rt=at,ot=function(e){return r.a.createElement(ye,null,r.a.createElement(ie.a,null,r.a.createElement(ue.a,null,r.a.createElement(rt,{title:"Popular movies",listType:z.POPULAR_MOVIES})),r.a.createElement(ue.a,null,r.a.createElement(rt,{title:"Popular series",listType:z.POPULAR_SERIES})),r.a.createElement(ue.a,null,r.a.createElement(rt,{title:"Family",listType:z.POPULAR_SERIES,listOptions:{genre:W}})),r.a.createElement(ue.a,null,r.a.createElement(rt,{title:"Documentary",listType:z.MOVIES_GENRE,listOptions:{genre:Y}}))))},ct=n(60),it=n(121),lt=n.n(it),ut=n(47),st=n.n(ut),mt=n(40),dt=n.n(mt),Et=n(37),pt=n(120),ft=n.n(pt);function vt(e){Ot(e.detail)}function Ot(e){console.error("[ShakaPlayer] Error code",e.code,"object",e)}var yt=function(e){var t=e.id,n=e.imageUrl,a=e.videoUrl,o=e.width;return r.a.useEffect(function(){window.shaka.polyfill.installAll(),window.shaka.Player.isBrowserSupported()?function(e,t){var n=document.getElementById(e),a=new window.shaka.Player(n);window.player=a,a.addEventListener("error",vt),a.load(t).then(function(){console.log("[ShakaPlayer] The video has now been loaded!"),n.requestFullscreen?(console.log("[ShakaPlayer] requesting full screen ..."),n.requestFullscreen()):console.error("[ShakaPlayer] full screen not available!")}).catch(Ot)}(t,a):console.error("[ShakaPlayer] Browser not supported!")},[t,n,a]),r.a.createElement(ft.a,{aspect:"a16by9"},r.a.createElement("video",{id:t,width:o,poster:n,controls:!0,autoPlay:!0}))};yt.defaultProps={id:"video",width:"640"};var ht=yt,gt=(n(214),function(e){var t=e.message;return r.a.createElement("div",{className:"container d-flex h-100"},r.a.createElement("div",{className:" mx-auto align-self-center text-center"},r.a.createElement(Et.a,{className:"m-4",size:"6em"}),r.a.createElement("h1",null,t)))});gt.defaultProps={message:"Something went wrong, retry later."};var bt,_t=gt;var Tt=(bt={},Object(g.a)(bt,J.MOVIE,function(e){var t=e.title,n=e.poster_path,a=e.overview,r=e.vote_average,o=e.popularity;return e.genres,{title:t,image:n,description:a,meta:{vote:r,popularity:o}}}),Object(g.a)(bt,J.TV,function(e){return{title:e.name,image:e.poster_path,description:e.overview,meta:{}}}),bt),At=function(e){var t=r.a.useState(!1),n=Object(ct.a)(t,2),a=n[0],o=n[1],c=e.item,i=e.configurationTmdb,l=e.itemType,u=e.loading,s=e.error;if(u)return null;if(s)return r.a.createElement(_t,{message:"Item not found"});var m=Tt[l]?Tt[l](c):c,d=m.title,E=m.description,p=m.image,f=m.meta,v=ee(p,$,i);return r.a.createElement(r.a.Fragment,null,r.a.createElement(dt.a,{show:a,onHide:function(){return o(!1)},size:"xl"},r.a.createElement(dt.a.Header,{closeButton:!0},r.a.createElement(dt.a.Title,null,d)),r.a.createElement(dt.a.Body,null,r.a.createElement(ht,{imageUrl:ee(p,Z,i),videoUrl:"https://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd",width:320})),r.a.createElement(dt.a.Footer,null,r.a.createElement(st.a,{variant:"secondary",onClick:function(){return o(!1)}},"Close"))),r.a.createElement(ie.a,{className:"m-2 pt-2"},r.a.createElement(ue.a,null,r.a.createElement(me.a,null,r.a.createElement("h1",null,d),r.a.createElement("p",{className:"lead"},E),r.a.createElement("hr",null),r.a.createElement("dl",{className:"row"},Object.keys(f).map(function(e,t){return r.a.createElement(r.a.Fragment,{key:"meta".concat(t)},r.a.createElement("dt",{className:"col-sm-3"},e),r.a.createElement("dd",{className:"col-sm-9"},f[e]))})),r.a.createElement("hr",null),r.a.createElement(st.a,{variant:"primary",size:"lg",block:!0,onClick:function(e){e.preventDefault(),o(!0)}},r.a.createElement(Et.b,null)," Play")),r.a.createElement(me.a,{className:"align-self-center"},r.a.createElement(lt.a,{src:v,thumbnail:!0})))))};At.defaultProps={};var Rt=At,It=function(e){function t(){return Object(R.a)(this,t),Object(P.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(I.a)(t,[{key:"componentWillMount",value:function(){this.props.onLoad()}},{key:"render",value:function(){return r.a.createElement(Rt,this.props)}}]),t}(r.a.Component);function Pt(e){var t=e.isTv,n=e.isMovie;return t?J.TV:n?J.MOVIE:void 0}var jt=Object(Be.a)(Object(i.b)(function(e,t){var n=t.id,a=Pt(t),r=Le(a,n),o=e.detailsByKey[r]||{loading:!0,error:!1,item:{}};return Object(s.a)({},o,{itemType:a,configurationTmdb:e.common.configuration})},function(e,t){var n=t.id,a=Pt(t);return{onLoad:function(){return e(Me(a,n))}}}),qe(function(e){return e.loading}))(It);jt.defaultProps={},jt.propTypes={id:ge.a.string.isRequired,isTv:ge.a.bool,isMovie:ge.a.bool};var St=jt,wt=function(e){var t=e.match,n=e.isTv,a=e.isMovie,o=D()(t,"params.id");return r.a.createElement(ye,null,r.a.createElement(St,{isTv:n,isMovie:a,id:o}))},Nt=n(61),Lt=n.n(Nt),Ct=n(123),Dt=n.n(Ct),kt=n(124),Mt=n.n(kt),Vt=n(122),Ut=n.n(Vt),Kt=function(e){var t=e.keyword,n=e.query,a=e.loading,o=e.results,c=e.fetchSearch,i=e.configurationTmdb,l=r.a.useState(t||n),u=Object(ct.a)(l,2),s=u[0],m=u[1],d=o?o.filter(function(e){return e.poster_path&&e.title}).map(function(e){return r.a.createElement(et,Object.assign({imageUrl:ee(e.poster_path,Z,i)},e))}):null;return r.a.createElement(ie.a,{className:"mt-4"},r.a.createElement(ue.a,{className:"mt-4"},r.a.createElement(me.a,null,r.a.createElement("h1",null,"Search"))),r.a.createElement(ue.a,{className:"mb-4"},r.a.createElement(me.a,null,r.a.createElement(Lt.a,{onSubmit:function(e){e.preventDefault(),c(s)}},r.a.createElement(Lt.a.Row,null,r.a.createElement(me.a,{sm:10},r.a.createElement(Lt.a.Control,{autoFocus:!0,placeholder:"search movies and tv series titles",value:s,onChange:function(e){m(e.target.value)}})),r.a.createElement(me.a,{sm:2},r.a.createElement(st.a,{disabled:a||Ut()(s),block:!0,variant:"primary",type:"submit"},a&&r.a.createElement(Dt.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),!a&&r.a.createElement(Et.c,null))))))),r.a.createElement(ue.a,null,r.a.createElement(me.a,null,r.a.createElement(Mt.a,null,d))))};Kt.defaultProps={keyword:"",query:"",results:[]};var Bt=Kt,Ht=Object(Be.a)(Object(i.b)(function(e){var t=e.search;return Object(s.a)({},t,{configurationTmdb:e.common.configuration})},function(e){return{fetchSearch:function(t){return e(function(e){return function(t){return t(Ve(e)),ae.Search.multi(e).then(function(e){var n=ne(e.body);t(Ue(n))},function(e){t(Ke())})}}(t))}}}))(Bt),xt=function(e){var t=e.match,n=D()(t,"params.keyword");return r.a.createElement(ye,null,r.a.createElement(Ht,{keyword:n}))},Ft=function(e){var t=e.location,n=void 0===t?{}:t;return r.a.createElement(ye,{containerClassName:"fullscreen",rowClassName:"fullscreen"},r.a.createElement(_t,{message:"Object not found for ".concat(n.pathname)}))},Gt=function(e){return r.a.createElement(w.a,null,r.a.createElement(N.c,null,r.a.createElement(N.a,{exact:!0,path:[oe.SEARCH,oe.SEARCHKEYWORD],component:xt}),r.a.createElement(N.a,{exact:!0,path:oe.DETAILMOVIE,render:function(e){return r.a.createElement(wt,Object.assign({},e,{isMovie:!0}))}}),r.a.createElement(N.a,{exact:!0,path:oe.DETAILTV,render:function(e){return r.a.createElement(wt,Object.assign({},e,{isTv:!0}))}}),r.a.createElement(N.a,{exact:!0,path:oe.HOME,component:ot}),r.a.createElement(N.a,{component:Ft})))},qt=function(e){function t(){return Object(R.a)(this,t),Object(P.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(I.a)(t,[{key:"componentWillMount",value:function(){this.props.onLoad()}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.loading;return r.a.createElement(Gt,{error:t,loading:n})}}]),t}(r.a.Component),zt=Object(Be.a)(Object(i.b)(function(e){return{error:e.common.error,loading:e.common.loading}},function(e){return{onLoad:function(){return e(Ie())}}}),qe(function(e){return e.loading}))(qt),Wt=A();c.a.render(r.a.createElement(i.a,{store:Wt},r.a.createElement(zt,null)),document.getElementById("root"))}},[[125,1,2]]]);
//# sourceMappingURL=main.dc7eb568.chunk.js.map